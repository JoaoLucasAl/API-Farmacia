# <h1 align="center"> API - FarmÃ¡cia âš•ï¸ </h1>  
Projeto desenvolvido no curso de Desenvolvimento Web, InstituiÃ§Ã£o de Ensino: Resilia EduÃ§aÃ§Ã£o.
Sendo este proposto como projeto do MÃ³dulo 4 do curso.

# O Projeto ğŸ“‹
A SQUAD 4 foi desafiada a desenvolver uma API com o produto mÃ­nimo viÃ¡vel de uma farmÃ¡cia.
<p> ğŸ¦¾ Nesse desafio, a nossa facilitadora tech, Karlla Souzza, solicitou que desenvolvessemos o conteÃºdo do mÃ³dulo em equipe.
<p>
- DEMANDAS:
<p>âœ”ï¸ Utilizar o padrÃ£o MVC;
<p>âœ”ï¸ Utilizar os verbos HTTP seguindo o padrÃ£o REST;
<p>âœ”ï¸ Implementar todas as operaÃ§Ãµes de CRUD;
<p>âœ”ï¸ Utilizar o padrÃ£o de projeto (design pattern) DAO para abstraÃ§Ã£o de transaÃ§Ãµes
no banco, com Promises;
<p>âœ”ï¸ Utilizar o README.md do repositÃ³rio para documentaÃ§Ã£o.
<p>âœ”ï¸ UtilizaÃ§Ã£o de async/await para operaÃ§Ãµes no banco (DAO)
<p>âœ”ï¸ Ter o cÃ³digo fonte hospedado em um repositÃ³rio no Github.

<P> - ROTAS SOLICITADAS:
<P>â— Listagem de todos os registros;
<P>â— Listagem de um Ãºnico registro com base em um parÃ¢metro de rota;
<P>â— InserÃ§Ã£o de um registro;
<P>â— ModificaÃ§Ã£o de um registro;
<P>â— DeleÃ§Ã£o de um registro.
  
# InstalÃ§Ã£o da AplicaÃ§Ã£o:
  <p>â— Abra o terminal e executeos seguintes comandos:
  <p>
 - git clone https://github.com/JoaoLucasAl/API-Farmacia.git
  <p>
    â— Entre na pasta:
  <p>
 - cd API-Farmacia
  <p>
   â— Instale os pacotes:
  <p>
 - npm install
  <p>
   â— Crie e Popule o Banco de Dados:
  <p>
 - npm run database
    <p>
   â— Execute o Projeto:
      <p>
 - npm start
    
# Quais sÃ£o as rotas possÃ­veis:
â— CLIENTES
  //rota que cria o cadastro de um novo funcionario
  app.post("/clientes", async (req, res) => {
    try {
      const { NOME, EMAIL, TELEFONE, CPF } = req.body;

      let cliente = new ClientesM(NOME, EMAIL, TELEFONE, CPF);

      let resposta = await DaoFunc.addClientes(cliente);
      res.json({
        result: resposta,
      });
    } catch (error) {
      res.json({
        error: error.message,
      });
    }
  });

  //rota que deleta um funcionÃ¡rio pelo ID
  app.delete("/clientes/:ID", async (req, res) => {
    try {
      const id = req.params.ID;
      const resposta = await DaoFunc.deleteCliente(id);

      res.json({
        result: resposta,
      });
    } catch (error) {
      res.json({
        error: error.message,
      });
    }
  });
   
        
â— FUNCIONÃRIOS
        //rota que busca todos funcionÃ¡rios
  app.get("/funcionarios", async (req, res) => {
    try {
      const resposta = await DaoFunc.verFuncionarios();
      res.json({
        result: resposta,
        countBd: resposta.length,
        error: false,
      });
    } catch (error) {
      res.json({
        error: error.message,
      });
    }
  });

  //rota que busca o funcionÃ¡rio a partir do ID
  app.get("/funcionarios/:ID", async (req, res) => {
    try {
      const id = req.params.ID;

      const resposta = await DaoFunc.verFuncionarioById(id);
      res.json({
        result: resposta,
        error: false,
      });
    } catch (error) {
      res.json({
        error: error.message,
      });
    }
  });

  //rota que cria o cadastro de um novo funcionario
  app.post("/funcionarios", async (req, res) => {
    try {
      const { NOME, EMAIL, TELEFONE, CARGO, CPF } = req.body;

      let funcionario = new FuncionariosM(NOME, EMAIL, TELEFONE, CARGO, CPF);

      let resposta = await DaoFunc.addFuncionario(funcionario);
      res.json({
        result: resposta,
      });
    } catch (error) {
      res.json({
        error: error.message,
      });
    }
  });

  //rota que deleta um funcionÃ¡rio pelo ID
  app.delete("/funcionarios/:ID", async (req, res) => {
    try {
      const id = req.params.ID;
      const resposta = await DaoFunc.deleteFuncionario(id);

      res.json({
        result: resposta,
      });
    } catch (error) {
      res.json({
        error: error.message,
      });
    }
  });
        
        â— REMÃ‰DIOS
        //rota que cria o cadastro de um novo remedio
  app.post("/remedios", async (req, res) => {
    try {
      const { NOME, PRINCIPIO_ATIVO, LABORATORIO, PRECO, ESTOQUE } = req.body;

      let remedio = new RemediosM(NOME, PRINCIPIO_ATIVO, LABORATORIO, PRECO, ESTOQUE);

      let resposta = await DaoRmd.addRemedios(remedio);
      
      res.json({
        result: resposta,
      });
    } catch (error) {
      res.json({
        error: error.message,
      });
    }
  });

 //rota que deleta um remedio pelo ID
 app.delete("/remedios/:ID", async (req, res) => {
  try {
    const id = req.params.ID;
    const resposta = await DaoRmd.deleteRemedios(id);

    res.json({
      result: resposta,
    });
  } catch (error) {
    res.json({
      error: error.message,
    });
  }
});
        
       â— VENDAS
        //Exibe todas as vendas
  app.get("/vendas", async (req, res) => {
    try {
      const resposta = await DaoVend.verVendas();
      res.json({
        result: resposta,
        countBd: resposta.length,
        error: false,
      });
    } catch (error) {
      res.json({
        error: error.message,
      });
    }
  });


  //Exibe Venda pelo ID
  app.get("/vendas/:ID", async (req, res) => {
    try {
      const id = req.params.ID;

      const resposta = await DaoVend.verVendasById(id);
      res.json({
        result: resposta,
        error: false,
      });
    } catch (error) {
      res.json({
        error: error.message,
      });
    }
  });

    //Inserir venda
  app.post("/vendas", async (req, res) => {
    try {
      const { remedio_id, quantidade, preco, desconto, funcionario_id, cliente_id } = req.body;

      let venda = new VendasM(remedio_id, quantidade, preco, desconto, funcionario_id, cliente_id);

      let resposta = await DaoVend.addVendas(venda);
      
      res.json({
        result: resposta,
      });
    } catch (error) {
      res.json({
        error: error.message,
      });
    }
  });

 //rota que deleta uma venda pela ID
 app.delete("/vendas/:ID", async (req, res) => {
  try {
    const id = req.params.ID;
    const resposta = await DaoVend.deleteVendas(id);

    res.json({
      result: resposta,
    });
  } catch (error) {
    res.json({
      error: error.message,
    });
  }
});

app.put("/vendas/:ID", async (req, res) => {
  try {
    const id = req.params.ID
    const body = req.body
    const parametros = [body.remedio_id, body.quantidade, body.preco, body.desconto, body.funcionario_id, body.cliente_id]

    let resposta = await DaoVend.atualizarVendas(parametros, id);

    res.json({
      result: resposta,
    });
  } catch (e) {
    res.json({
      error: e.message,
    });
  }
});

# Status do Projeto ğŸš€
`Finalizado`

# Ferramentas Utilizadas âš™ï¸ğŸ› ï¸
- VISUAL STUDIO CODE
- GIT
- GIT HUB
- DISCORD
- GOOGLE PLANILHAS
- GOOGLE MEET
- CANVA
- SQLITE
- NOTION
- NODE JS
- INSOMNIA

# Nossa Equipe ğŸ‘§ğŸ¾ğŸ‘¦ğŸ½ğŸ‘§ğŸ¾ğŸ‘¦ğŸ½
| [<img src="https://avatars.githubusercontent.com/u/104860523?v=4" width=115><br><sub>Isadora Sant'Ana</sub>](https://github.com/isadora30) |  [<img src="https://avatars.githubusercontent.com/u/89653897?v=4" width=115><br><sub>JoÃ£o Lucas</sub>](https://github.com/JoaoLucasAl) |  [<img src="https://avatars.githubusercontent.com/u/75572493?v=4" width=115><br><sub>RaÃ­ssa Dias</sub>](https://github.com/Jackiesants) | [<img src="https://avatars.githubusercontent.com/u/103144665?v=4" width=115><br><sub>Rio Ribeiro</sub>](https://github.com/rioribeirods)
| :---: | :---: | :---: | :---: |

# ConclusÃµes ğŸ¯
Logo, conseguimos desenvolver, alÃ©m de todas as habilidades com as ferramentas e com conteÃºdo passado, 
<p> harmonia e parceria no trabalho em equipe, bem como, a capacidade de aprender a aprender e de ajudar uns aos outros compartilhando conhecimentos.

Esperamos demonstrar nosso desenvolvimento enquanto aprendizes e contribuir como um bom exemplo de projeto!
<p>SQUAD 4.</p>
